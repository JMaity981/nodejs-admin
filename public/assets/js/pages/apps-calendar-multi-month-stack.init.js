document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("calendar"),t=document.getElementById("drop-remove"),n=document.getElementById("modal-title"),l=document.getElementById("form-event"),d=document.getElementsByClassName("needs-validation");let a=null,o=null;const r=new Date,s=r.getDate(),c=r.getMonth(),i=r.getFullYear(),m=[{title:"All Day Event",start:new Date(i,c,1),className:"w-[100%] text-purple-500 !bg-purple-100 dark:!bg-purple-500/20 border-none rounded-md py-1.5 px-3"},{title:"Long Event",start:new Date(i,c,s-5),end:new Date(i,c,s-2),className:"!text-sky-500 w-[100%] !bg-sky-100 dark:!bg-sky-500/20 border-none rounded-md py-1.5 px-3"},{id:999,title:"Repeating Event",start:new Date(i,c,s-3,16,0),allDay:!1,className:"text-yellow-500 w-[100%] !bg-yellow-100 dark:!bg-yellow-500/20 border-none rounded-md py-1.5 px-3"},{id:999,title:"Repeating Event",start:new Date(i,c,s+4,16,0),allDay:!1,className:"w-[100%] text-custom-500 !bg-custom-100 dark:!bg-custom-500/20 border-none rounded-md py-1.5 px-3"},{title:"Meeting",start:new Date(i,c,s,10,30),allDay:!1,className:"text-green-500 w-[100%] !bg-green-100 dark:!bg-green-500/20 border-none rounded-md py-1.5 px-3"},{title:"Lunch",start:new Date(i,c,s,12,0),end:new Date(i,c,s,14,0),allDay:!1,className:"text-purple-500 w-[100%] !bg-purple-100 dark:!bg-purple-500/20 border-none rounded-md py-1.5 px-3"},{title:"Birthday Party",start:new Date(i,c,s+1,19,0),end:new Date(i,c,s+1,22,30),allDay:!1,className:"w-[100%] text-sky-500 !bg-sky-100 dark:!bg-sky-500/20 border-none rounded-md py-1.5 px-3"},{title:"Click for Google",start:new Date(i,c,28),end:new Date(i,c,29),url:"http://google.com/",className:"w-[100%] text-custom-500 !bg-custom-100 dark:!bg-custom-500/20 border-none rounded-md py-1.5 px-3"}],u=new FullCalendar.Calendar(e,{timeZone:"UTC",editable:!0,droppable:!0,selectable:!0,multiMonthMaxColumns:1,initialView:"multiMonthYear",themeSystem:"tailwindcss",headerToolbar:{left:"prev,next,today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},drop:function(e){t.checked&&e.draggedEl.parentNode.removeChild(e.draggedEl)},windowResize:function(){const e=getInitialView();u.changeView(e)},eventDidMount:function(e){if("done"===e.event.extendedProps.status){e.el.style.backgroundColor="red";const t=e.el.querySelector(".fc-event-dot");t&&(t.style.backgroundColor="white")}},eventClick:function(e){document.getElementById("calendarBtn").click(),document.getElementById("event-modal").classList.remove("hidden"),l.reset(),document.getElementById("event-title").value="",a=e.event,document.getElementById("event-title").value=a.title,document.getElementById("event-category").value=a.classNames[0],o=null,document.getElementById("btn-delete-event").classList.remove("hidden"),document.getElementById("btn-save-event").innerText="Edit Event",o=null},dateClick:function(e){!function(e){l.classList.remove("was-validated"),l.reset(),a=null,n.innerText="Add Event",o=e}(e),document.getElementById("event-modal").classList.remove("hidden"),document.getElementById("calendarBtn").click()},events:m});u.render(),l.addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("event-title").value,n=document.getElementById("event-category").value;if(!1===d[0].checkValidity())d[0].classList.add("was-validated");else{if(a)a.setProp("title",t),a.setProp("classNames",[n]);else{const e={title:t,start:o.date,allDay:o.allDay,className:n};u.addEvent(e)}document.getElementById("eventModal-close").click()}})),document.getElementById("btn-delete-event").addEventListener("click",(function(){a&&(a.remove(),a=null,document.getElementById("eventModal-close").click())}))}));