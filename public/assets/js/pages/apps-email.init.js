var ckClassicEditor=document.querySelectorAll(".ckeditor-classic");ckClassicEditor&&Array.from(ckClassicEditor).forEach((function(){ClassicEditor.create(document.querySelector(".ckeditor-classic")).catch((function(e){console.error(e)}))}));var url="assets/json/",allmaillist="",getJSON=function(e,t){var r=new XMLHttpRequest;r.open("GET",url+e,!0),r.responseType="json",r.onload=function(){var e=r.status;t(200===e?null:e,r.response)},r.send()};function loadMailData(e){document.querySelector("#mail-list").innerHTML="",Array.from(e).forEach((function(e,t){var r=1==e.unread?"":"unread",a=e.starred?"active":"";document.querySelector("#mail-list").innerHTML+='\n        <tr class="relative before:absolute ltr:before:left-0 rtl:before:right-0 before:border [&.checked]:before:border-custom-500 before:inset-y-0 before:border-transparent '+r+' group/mail mail-card">\n        <td class="px-3.5 py-2.5 border-y border-transparent first:pl-0 last:pr-0 w-20">\n            <div class="flex items-center gap-3 ltr:pl-2 rtl:pr-2">\n                <input type="checkbox" id="checkbox'+e.id+'" value="'+e.id+'" class="itemCheckbox w-4 h-4 cursor-pointer bg-white border border-slate-200 checked:bg-none dark:bg-zink-700 dark:border-zink-500 rounded-sm appearance-none arrow-none relative after:absolute after:content-[\'\\eb7b\'] after:top-0 after:left-0 after:font-remix after:leading-none after:opacity-0 checked:after:opacity-100 after:text-custom-500 checked:border-custom-500 dark:after:text-custom-500 dark:checked:border-custom-800" >\n                <a href="#!" class="transition-all duration-200 ease-linear text-slate-500 hover:text-yellow-500 dark:text-zink-200 dark:hover:text-yellow-500 '+a+'"><i data-lucide="star" class="w-4 h-4"></i></a>\n                <a href="#!" class="transition-all duration-200 ease-linear text-slate-500 hover:text-yellow-500 dark:text-zink-200 dark:hover:text-yellow-500"><i data-lucide="step-forward" class="w-4 h-4"></i></a>\n            </div>\n        </td>\n        <td class="relative px-3.5 py-2.5 border-y border-transparent first:pl-0 last:pr-0 text-slate-500 group-[.unread]/mail:text-slate-800 dark:text-zink-200 dark:group-[.unread]/mail:text-zink-50  mailBox">\n            <div class="grid items-center grid-cols-12 gap-3">\n                <div class="col-span-4 lg:col-span-2">\n                    <a href="#!" class="block truncate before:inset-0 before:absolute">'+e.name+'</a>\n                </div>\n                <div class="col-span-8 lg:col-span-10">\n                    <p class="truncate">'+e.subject+'</p>\n                </div>\n            </div>\n        </td>\n        <td class="px-3.5 py-2.5 border-y border-transparent first:pl-0 last:pr-0 text-end w-20 text-slate-500 group-[.unread]/mail:text-slate-800 dark:text-zink-200 dark:group-[.unread]/mail:text-zink-50">'+e.time+"</td>\n    </tr>",checkBoxAll(),emailDetailShow()}))}function emailDetailShow(){Array.from(document.querySelectorAll("#mail-list tr td")).forEach((function(e){e.addEventListener("click",(function(e){Array.from(document.querySelectorAll("#mail-list tr.unread")).forEach((function(t){t.classList.contains("unread")&&e.target.closest("tr").classList.remove("unread")}))}))}));var e=document.getElementById("emailOverview");Array.from(document.querySelectorAll("#closeChatRightSidebar")).forEach((function(t){t.addEventListener("click",(function(){document.querySelector("#emailList").classList.remove("hidden"),e.classList.add("hidden")}))})),Array.from(document.querySelectorAll("td.mailBox")).forEach((function(t){t.addEventListener("click",(function(t){e.classList.remove("hidden"),document.querySelector("#emailList").classList.add("hidden")}))})),document.querySelectorAll("#mail-list td.mailbox").forEach((function(e){e.addEventListener("click",(function(){}))}))}function checkBoxAll(){document.querySelector("#checkboxAll").addEventListener("change",(e=>{Array.from(document.querySelectorAll(".itemCheckbox")).forEach((function(t){1==e.target.checked?t.checked=!0:t.checked=!1})),createIcons({icons})})),Array.from(document.querySelectorAll("#mail-list input")).forEach((function(e){e.addEventListener("click",(function(e){1==e.target.checked?e.target.closest("tr").classList.add("checked"):e.target.closest("tr").classList.remove("checked")}))}));var e=document.querySelectorAll(".mail-primary .checkbox-wrapper-mail input");function t(){var e=document.querySelectorAll(".mail-primary .checkbox-wrapper-mail input"),t=document.querySelectorAll(".mail-primary .checkbox-wrapper-mail input:checked").length;Array.from(e).forEach((function(e){e.checked=!0,e.parentNode.parentNode.parentNode.classList.add("active")})),document.getElementById("email-topbar-actions").style.display=t>0?"none":"block",t>0?Array.from(e).forEach((function(e){e.checked=!1,e.parentNode.parentNode.parentNode.classList.remove("active")})):Array.from(e).forEach((function(e){e.checked=!0,e.parentNode.parentNode.parentNode.classList.add("active")})),this.onclick=r,removeItems(),document.querySelectorAll("#mail-list tr").forEach((e=>{e.classList.add("checked")}))}function r(){var e=document.querySelectorAll(".mail-primary .checkbox-wrapper-mail input"),r=document.querySelectorAll(".mail-primary .checkbox-wrapper-mail input:checked").length;Array.from(e).forEach((function(e){e.checked=!1,e.parentNode.parentNode.parentNode.classList.remove("active")})),document.getElementById("email-topbar-actions").style.display=r>0?"none":"block",r>0?Array.from(e).forEach((function(e){e.checked=!1,e.parentNode.parentNode.parentNode.classList.remove("active")})):Array.from(e).forEach((function(e){e.checked=!0,e.parentNode.parentNode.parentNode.classList.add("active")})),this.onclick=t,document.querySelectorAll("#mail-list tr").forEach((e=>{e.classList.remove("checked")}))}Array.from(e).forEach((function(e){e.addEventListener("click",(function(e){var t=document.querySelectorAll(".mail-primary .checkbox-wrapper-mail input"),r=document.getElementById("checkboxAll"),a=document.querySelectorAll(".mail-primary .checkbox-wrapper-mail input:checked").length;r.checked=a>0,r.indeterminate=a>0&&a<t.length,e.target.closest("li").classList.contains("active"),document.getElementById("email-topbar-actions").style.display=a>0?"block":"none"}))})),document.getElementById("checkboxAll").onclick=t}getJSON("mail-list.init.json",(function(e,t){null!==e?console.log("Something went wrong: "+e):loadMailData(allmaillist=t)}));var markAllReadBtn=document.getElementById("mark-all-read");markAllReadBtn.addEventListener("click",(function(e){0===document.querySelectorAll("#mail-list tr.unread").length&&(document.getElementById("unreadConversations").classList.remove("hidden"),setTimeout((function(){document.getElementById("unreadConversations").classList.add("hidden")}),1e3)),Array.from(document.querySelectorAll("#mail-list tr.unread")).forEach((function(e){e.classList.contains("unread")&&e.classList.remove("unread")}))}));var searchList=document.getElementById("searchResultList");function removeItems(){document.getElementById("deleteModal").addEventListener("show.bs.modal",(function(e){document.getElementById("delete-record").addEventListener("click",(function(){Array.from(document.querySelectorAll("#mail-list tr")).forEach((function(e){var t,r="";if(e.classList.contains("active")){var a=e.querySelector(".form-check-input").value;t=a,r=allmaillist.filter((function(e){return e.id!=t})),allmaillist=r,e.remove()}})),document.getElementById("email-topbar-actions")&&(document.getElementById("email-topbar-actions").style.display="none"),checkall.indeterminate=!1,checkall.checked=!1}))}))}function removeSingleItem(){var e=0;document.querySelectorAll(".remove-mail").forEach((function(t){t.addEventListener("click",(function(r){e=t.getAttribute("data-remove-id"),document.getElementById("delete-record").addEventListener("click",(function(){var t,r;t=e,r=allmaillist.filter((function(e){return e.id!=t})),loadMailData(allmaillist=r),document.getElementById("close-btn-email").click()}))}))}))}searchList.addEventListener("keyup",(function(){var e,t=searchList.value.toLowerCase();loadMailData((e=t,allmaillist.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())||-1!==t.subject.toLowerCase().indexOf(e.toLowerCase())}))))})),removeItems(),removeSingleItem();